<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Appointment booking</title>
  <link rel="stylesheet" href="app.css">
  <link rel="icon" type="image/x-icon" href="./image/favicon.png">
  <title>Appointment <Details></Details>
  </title>
</head>

<body>
  <center>
    <p>Your Appointments</p>
  </center>
  <div id="myDiv">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Consultation</th>
          <th>Doctor name</th>
          <th>Date</th>
          <th>Time</th>
        </tr>
      </thead>
      <tbody>

      </tbody>
    </table>

  </div>
  <div class="back-button"><a href="homepage.html">Back</a></div>

  <div class="Buttons">
    <a href="volunteerrequest.html"><button id="btn1">Volunteer requests</button></a>
    <button id="btn2" disabled>Appointments</button>
  </div>


  <script src="app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js">
  </script>

  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyApWu85m4cvvjPfv56W2aUux6bbLxHmeBc",
      authDomain: "mindset-232f0.firebaseapp.com",
      databaseURL: "https://mindset-232f0-default-rtdb.firebaseio.com/",
      projectId: "mindset-232f0",
      storageBucket: "mindset-232f0.appspot.com",
      messagingSenderId: "615383190986",
      appId: "1:615383190986:web:7a4d3093cc235be8485333",
      measurementId: "G-CG8VS0BBRV"
    };

    firebase.initializeApp(firebaseConfig);

    var id = localStorage.getItem("uid");
    const dbRef = firebase.database().ref('/Appointment Details/' + id);
    alert("To cancel your Appointment, please send an email to service@mindset.com");
    dbRef.once("value").then((snapshot) => {
      var data = snapshot.val();
      for (let i in data) {
        console.log(i);
        console.log(data[i]);
      }
      var date = data["date"];
      var email = data["email"];
      var doctor = data["doctor"];
      var name = data["name"];
      var phone = data["phone"];
      var therapy = data["therapy"];
      var time = data["time"];

      let table = document.querySelector("table");

      let template = `
        <tr>
          <td>${name}</td>
          <td>${email}</td>
          <td>${phone}</td>
          <td>${therapy}</td>
          <td>${doctor}</td>
          <td>${date}</td>
          <td>${time}</td>
        </tr>`;
      table.innerHTML += template
    });
      // Get values



  </script>
</body>

</html>